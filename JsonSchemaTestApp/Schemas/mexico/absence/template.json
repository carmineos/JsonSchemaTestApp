{
  "$id": "/mexico/absence",
  "$schema": "http://json-schema.org/draft-07/schema#",
  "$defs": {
    "absenceReasons": {
      "type": "object",
      "properties": {
        "name": {
          "type": "string"
        },
        "affectingBalance": {
          "type": "boolean"
        },
        "medicalCertificateRequired": {
          "type": "boolean"
        }
      },
      "enum": [
        {
          "name": "Sick Leave",
          "affectingBalance": false,
          "medicalCertificateRequired": true
        },
        {
          "name": "Vacation",
          "affectingBalance": true,
          "medicalCertificateRequired": false
        }
      ]
    },
    "absenceTypes": {
      "type": "string",
      "enum": [
        "Half Day",
        "Full Day"
      ]
    }
  },
  "type": "object",
  "properties": {
    "requestData": {
      "type": "object",
      "properties": {
        "reason": {
          "title": "Reason",
          "type": "object",
          "$ref": "#/$defs/absenceReasons"
        },
        "medicalCertificate": {
          "title": "Medical Certificate",
          "type": "string",
          "format": "data-url"
        },
        "leavePeriod": {
          "$ref": "/common/dateRange"
        },
        "type": {
          "title": "Type",
          "type": "string",
          "$ref": "#/$defs/absenceTypes"
        },
        "traveledDays": {
          "title": "Traveled Days",
          "type": "number"
        },
        "pausePeriod": {
          "$ref": "/common/dateRange"
        },
        "traveledDaysEditedByHR": {
          "title": "Traveled Days Edited By HR",
          "type": "number"
        },
        "travelDays": {
          "title": "Travel Days",
          "type": "boolean"
        },
        "departurePeriod": {
          "$ref": "/common/dateRange"
        },
        "arrivalPeriod": {
          "$ref": "/common/dateRange"
        }
      },
      "required": [
        "reason",
        "leavePeriod",
        "type",
        "traveledDays"
      ]
    }
  },
  "required": [
    "requestData"
  ]
}